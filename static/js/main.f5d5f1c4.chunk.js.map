{"version":3,"sources":["util/Spotify.js","util/client.js","Components/SearchBar/SearchOptions/SearchOptions.js","Components/SearchBar/SearchBar.js","Components/Track/Track.js","Components/TrackList/TrackList.js","Components/SearchResults/SearchResults.js","Components/Playlist/Playlist.js","Components/App/App.js","index.js"],"names":["redirect","expiry","Spotify","login","window","location","getToken","token","url","href","includes","tokenStart","indexOf","length","tokenEnd","substring","expiryStart","expiryEnd","Number","setTimeout","search","term","option","tracks","fetch","headers","Authorization","then","response","ok","json","Error","console","log","items","map","track","id","name","artist","artists","album","uri","preview","preview_url","getUserId","userId","createNewPlaylist","playlistName","alert","method","body","JSON","stringify","data","playlistId","addTracksToPlaylist","array","uriString","join","listUrl","save","playlistURIs","SearchOptions","props","handleClick","target","setSearchOption","innerHTML","style","display","isLoggedIn","index","className","searchOption","onClick","SearchBar","placeholder","value","searchTerm","onChange","setSearchTerm","onKeyPress","event","key","Track","useState","isPlaying","setIsPlaying","document","getElementById","pause","play","isRemoval","src","removeTrack","addTrack","TrackList","results","result","SearchResults","textTransform","Playlist","onSubmit","preventDefault","savePlaylist","updatePlaylistName","required","playlistTracks","type","App","searchResults","setSearchResults","setPlaylistName","setPlaylistTracks","setIsLoggedIn","SetToken","a","uris","addEventListener","newToken","trackToAdd","find","trackToRemove","filter","newName","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f5d5f1c4.chunk.js","sourcesContent":["import client from \"./client\";\r\nconst host = \"https://karlj38.github.io/jammming/\";\r\nconst redirect = `https://accounts.spotify.com/authorize?client_id=${client}&response_type=token&scope=playlist-modify-public&redirect_uri=${host}`;\r\n\r\n// let token = \"\";\r\nlet expiry = 0;\r\n\r\nlet Spotify = {\r\n  login() {\r\n    window.location = redirect;\r\n  },\r\n\r\n  getToken(token) {\r\n    if (token) {\r\n      return token;\r\n    }\r\n    let url = window.location.href;\r\n    if (url.includes(\"access_token\")) {\r\n      const tokenStart =\r\n        url.indexOf(\"access_token\") + \"access_token\".length + 1;\r\n      const tokenEnd = url.indexOf(\"&token_type\");\r\n      token = url.substring(tokenStart, tokenEnd);\r\n\r\n      const expiryStart = url.indexOf(\"expires_in\") + \"expires_in\".length + 1;\r\n      const expiryEnd = url.indexOf(\"&state\");\r\n      expiry = Number(url.substring(expiryStart, expiryEnd)) * 1000;\r\n\r\n      setTimeout(() => {\r\n        token = \"\";\r\n      }, expiry);\r\n      return token;\r\n    }\r\n  },\r\n\r\n  async search(term, option, token) {\r\n    if (!term || !token) {\r\n      return [];\r\n    }\r\n    let tracks = [];\r\n    await fetch(\r\n      `https://api.spotify.com/v1/search?type=track&q=${option}:${term}`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    )\r\n      .then(\r\n        (response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          } else {\r\n            throw new Error(\"req failed\");\r\n          }\r\n        },\r\n        () => console.log(\"network error\")\r\n      )\r\n      .then((json) => {\r\n        if (!json.tracks) {\r\n          return [];\r\n        }\r\n        tracks = json.tracks.items.map((track) => {\r\n          return {\r\n            id: track.id,\r\n            name: track.name,\r\n            artist: track.artists[0].name,\r\n            album: track.album.name,\r\n            uri: track.uri,\r\n            preview: track.preview_url,\r\n          };\r\n        });\r\n      });\r\n    return tracks;\r\n  },\r\n\r\n  async getUserId(token) {\r\n    if (!token) {\r\n      return;\r\n    }\r\n    let userId = \"\";\r\n    let json = await fetch(\"https://api.spotify.com/v1/me\", {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          throw new Error(\"req failed\");\r\n        }\r\n      },\r\n      () => console.log(\"network error\")\r\n    );\r\n    userId = json.id;\r\n    return userId;\r\n  },\r\n\r\n  async createNewPlaylist(userId, playlistName, token) {\r\n    if (!userId || !playlistName || !token) {\r\n      alert(\"Invalid submission - No playlist name given\");\r\n      return;\r\n    }\r\n    let url = `https://api.spotify.com/v1/users/${userId}/playlists`;\r\n    let data = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ name: playlistName }),\r\n    }).then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          throw new Error(\"req failed\");\r\n        }\r\n      },\r\n      () => console.log(\"network error\")\r\n    );\r\n    let playlistId = data.id;\r\n    return playlistId;\r\n  },\r\n\r\n  async addTracksToPlaylist(array, playlistId, token) {\r\n    if (!array || !playlistId || !token) {\r\n      alert(\"Invalid submission - No tracks in playlist\");\r\n      return;\r\n    }\r\n    let uriString = array.join(\",\");\r\n    let listUrl = `https://api.spotify.com/v1/playlists/${playlistId}/tracks?uris=${uriString}`;\r\n    await fetch(listUrl, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  },\r\n\r\n  async save(playlistName, playlistURIs, token) {\r\n    if (!playlistName || !playlistURIs || !token) {\r\n      return;\r\n    } else {\r\n      const userId = await this.getUserId(token);\r\n      const playlistId = await this.createNewPlaylist(\r\n        userId,\r\n        playlistName,\r\n        token\r\n      );\r\n      this.addTracksToPlaylist(playlistURIs, playlistId, token);\r\n      console.log(\"done\");\r\n    }\r\n  },\r\n};\r\n\r\nexport default Spotify;\r\n","const client = \"f3920987d31f4b4e9261a062e26e13f1\";\r\n\r\nexport default client;\r\n","import React from \"react\";\r\nimport \"./SearchOptions.css\";\r\n\r\nfunction SearchOptions(props) {\r\n  const searchOptions = [\"album\", \"artist\", \"track\"];\r\n\r\n  function handleClick({ target }) {\r\n    props.setSearchOption(target.innerHTML);\r\n    props.search(target.innerHTML);\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: props.isLoggedIn ? \"\" : \"none\" }}>\r\n      {searchOptions.map((option, index) => {\r\n        return (\r\n          <button\r\n            key={index}\r\n            className={\r\n              props.searchOption === option\r\n                ? \"SearchButton SearchOption active\"\r\n                : \"SearchButton SearchOption\"\r\n            }\r\n            onClick={handleClick}\r\n          >\r\n            {option}\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchOptions;\r\n","import React from \"react\";\r\nimport Spotify from \"../../util/Spotify\";\r\nimport \"./SearchBar.css\";\r\nimport SearchOptions from \"./SearchOptions/SearchOptions\";\r\n\r\nfunction SearchBar(props) {\r\n  function handleChange({ target }) {\r\n    props.setSearchTerm(target.value);\r\n  }\r\n\r\n  function handleKey(event) {\r\n    if (event.key === \"Enter\") {\r\n      console.log(\"bar\", props.searchOption);\r\n      props.search(props.searchOption);\r\n    }\r\n  }\r\n\r\n  function login() {\r\n    Spotify.login();\r\n  }\r\n\r\n  return (\r\n    <div className=\"SearchBar\">\r\n      <input\r\n        placeholder=\"Enter A Song, Album, or Artist\"\r\n        value={props.searchTerm}\r\n        onChange={handleChange}\r\n        style={{ display: props.isLoggedIn ? \"\" : \"none\" }}\r\n        onKeyPress={handleKey}\r\n      />\r\n      <SearchOptions\r\n        searchOption={props.searchOption}\r\n        setSearchOption={props.setSearchOption}\r\n        isLoggedIn={props.isLoggedIn}\r\n        search={props.search}\r\n      />\r\n      {!props.isLoggedIn && (\r\n        <button className=\"SearchButton\" onClick={login}>\r\n          LOGIN\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, { useState } from \"react\";\r\nimport { FiPlay, FiPause } from \"react-icons/fi\";\r\nimport \"./Track.css\";\r\n\r\nfunction Track(props) {\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  function renderAction() {\r\n    return props.isRemoval ? \"-\" : \"+\";\r\n  }\r\n\r\n  function onAdd() {\r\n    props.addTrack(props.track);\r\n  }\r\n\r\n  function onRemove() {\r\n    props.removeTrack(props.track);\r\n  }\r\n\r\n  function preview() {\r\n    if (!isPlaying) {\r\n      document.getElementById(props.id).play();\r\n      setIsPlaying(true);\r\n    } else {\r\n      document.getElementById(props.id).pause();\r\n      setIsPlaying(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"Track\">\r\n      <div className=\"Track-information\">\r\n        <h3>{props.track.name}</h3>\r\n        <p>\r\n          {props.track.artist} | {props.track.album}\r\n        </p>\r\n      </div>\r\n      {!props.isRemoval && props.track.preview && !isPlaying && (\r\n        <FiPlay onClick={preview} />\r\n      )}\r\n      {!props.isRemoval && props.track.preview && isPlaying && (\r\n        <FiPause onClick={preview} />\r\n      )}\r\n      <audio\r\n        id={props.id}\r\n        src={props.track.preview}\r\n        className=\"preview\"\r\n      ></audio>\r\n      <button\r\n        className=\"Track-action\"\r\n        onClick={props.isRemoval ? onRemove : onAdd}\r\n      >\r\n        {renderAction()}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Track;\r\n","import React from \"react\";\r\nimport \"./TrackList.css\";\r\nimport Track from \"../Track/Track\";\r\n\r\nfunction TrackList(props) {\r\n  // console.log(props);\r\n  return (\r\n    <div className=\"TrackList\">\r\n      {props.results.map((result) => (\r\n        <Track\r\n          track={result}\r\n          key={result.id}\r\n          id={result.id}\r\n          addTrack={props.addTrack}\r\n          isRemoval={props.isRemoval}\r\n          removeTrack={props.removeTrack}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrackList;\r\n","import React from \"react\";\r\nimport TrackList from \"../TrackList/TrackList\";\r\nimport \"./SearchResults.css\";\r\n\r\nfunction SearchResults(props) {\r\n  return (\r\n    <div className=\"SearchResults\">\r\n      <h2>\r\n        Search Results by{\" \"}\r\n        <span style={{ textTransform: \"capitalize\" }}>\r\n          {props.searchOption}\r\n        </span>\r\n      </h2>\r\n      <TrackList\r\n        results={props.results}\r\n        addTrack={props.addTrack}\r\n        isRemoval={false}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchResults;\r\n","import React from \"react\";\r\nimport TrackList from \"../TrackList/TrackList\";\r\nimport \"./Playlist.css\";\r\n\r\nfunction Playlist(props) {\r\n  function handleNameChange({ target }) {\r\n    props.updatePlaylistName(target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.savePlaylist();\r\n  }\r\n\r\n  return (\r\n    <form className=\"Playlist\" onSubmit={handleSubmit}>\r\n      <input\r\n        placeholder=\"Enter Playlist Name\"\r\n        value={props.playlistName}\r\n        onChange={handleNameChange}\r\n        required={true}\r\n      />\r\n      <TrackList\r\n        results={props.playlistTracks}\r\n        removeTrack={props.removeTrack}\r\n        isRemoval={true}\r\n      />\r\n      <button\r\n        className=\"Playlist-save\"\r\n        style={{ display: props.playlistTracks.length ? \"\" : \"none\" }}\r\n        type=\"submit\"\r\n        // onClick={handleClick}\r\n      >\r\n        SAVE TO SPOTIFY\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Playlist;\r\n","import React, { useState } from \"react\";\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\nimport SearchResults from \"../SearchResults/SearchResults\";\r\nimport Playlist from \"../Playlist/Playlist\";\r\nimport \"./App.css\";\r\nimport Spotify from \"../../util/Spotify\";\r\n\r\nfunction App() {\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [playlistName, setPlaylistName] = useState(\"\");\r\n  const [playlistTracks, setPlaylistTracks] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [token, SetToken] = useState(\"\");\r\n  const [searchOption, setSearchOption] = useState(\"track\");\r\n\r\n  document.addEventListener(\"DOMContentLoaded\", () => {\r\n    let newToken = Spotify.getToken();\r\n    if (newToken) {\r\n      SetToken(newToken);\r\n      setIsLoggedIn(true);\r\n    }\r\n  });\r\n\r\n  function addTrack(trackToAdd) {\r\n    if (!playlistTracks.find((track) => track.id === trackToAdd.id)) {\r\n      setPlaylistTracks([...playlistTracks, trackToAdd]);\r\n    }\r\n  }\r\n\r\n  function removeTrack(trackToRemove) {\r\n    setPlaylistTracks(\r\n      playlistTracks.filter((track) => track.id !== trackToRemove.id)\r\n    );\r\n  }\r\n\r\n  function updatePlaylistName(newName) {\r\n    setPlaylistName(newName);\r\n  }\r\n\r\n  async function savePlaylist() {\r\n    const uris = playlistTracks.map((track) => track.uri);\r\n    await Spotify.save(playlistName, uris, token);\r\n    setPlaylistName(\"\");\r\n    setPlaylistTracks([]);\r\n    setSearchResults([]);\r\n    setSearchTerm(\"\");\r\n  }\r\n\r\n  async function search(option) {\r\n    const results = await Spotify.search(searchTerm, option, token);\r\n    setSearchResults(results);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>\r\n        Ja<span className=\"highlight\">mmm</span>ing\r\n      </h1>\r\n      <div className=\"App\">\r\n        <SearchBar\r\n          search={search}\r\n          searchTerm={searchTerm}\r\n          setSearchTerm={setSearchTerm}\r\n          isLoggedIn={isLoggedIn}\r\n          setIsLoggedIn={setIsLoggedIn}\r\n          Spotify={Spotify}\r\n          searchOption={searchOption}\r\n          setSearchOption={setSearchOption}\r\n        />\r\n        <div\r\n          className=\"App-playlist\"\r\n          style={{ display: searchResults.length ? \"\" : \"none\" }}\r\n        >\r\n          <SearchResults\r\n            results={searchResults}\r\n            addTrack={addTrack}\r\n            isLoggedIn={isLoggedIn}\r\n            searchOption={searchOption}\r\n          />\r\n          <Playlist\r\n            playlistName={playlistName}\r\n            playlistTracks={playlistTracks}\r\n            removeTrack={removeTrack}\r\n            updatePlaylistName={updatePlaylistName}\r\n            savePlaylist={savePlaylist}\r\n            isLoggedIn={isLoggedIn}\r\n            searchResults={SearchResults}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./reset.css\";\r\nimport \"./index.css\";\r\nimport App from \"./Components/App/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}